function refines(e){var t="";for(var n=0;n<e.split(" ").length;n++){if(e.split(" ")[n]!="")t+=e.split(" ")[n]+" "}return t}function shortParagraph(e,t){var n="";var r=0;var i=refines(e);if(t>=i.split(" ").length){t=i.split(" ").length;r=1}for(var s=0;s<=t-1;s++){n+=i.split(" ")[s]+" "}if(r==0)n+="...";return n}function hotspotContent(e){return $(EXHIBITION_XML).find('exhibition HotspotCollection hotspot[key_id="'+e+'"]')}var EXHIBITION_XML=null;var URL="";var ID=window.location.href.split("id=")[1].split("&lang=")[0];var LANG=window.location.href.split("id=")[1].split("&lang=")[1];$(document).ready(function(){function e(e){EXHIBITION_XML=e;var t=hotspotContent(ID);var n=$(t).find("title:first").find(LANG).text();var r=$(t).attr("type");var i=$(t).find("autoguide:first").find(LANG).text();$("#top_title").html(lang_viettel_traditional_room[LANG]);$("#footer_title").html(lang_viettel_group[LANG]);$("#hotspotName").html(n);$("#media_content").html('<iframe id="media" src="../data/hotspots/objects/'+ID+'/"></iframe>');if(i!=""){jwplayer("autoguide").setup({file:"../data/sounds/autoguide/hotspots/"+i,height:24,width:980})}var s=$(t).find("description:first").find(LANG).text();if(s!=""){$("#hotspotDescription").css("display","block");$("#hotspotDescription").html(s)}var o=$(t).find("attribute");var u="";o.each(function(){u+="<h3>"+$(this).find("title "+LANG).text()+"</h3>";u+="<div>"+$(this).find("description "+LANG).text()+"</div>"});if(u!=""){$("#hotspotAttribute").css("display","block");$("#hotspotAttribute").html('<div id="accordion">'+u+"</div>");$(function(){$("#accordion").accordion()})}}$.ajax({url:"../data/xml/hotspot/object.xml",dataType:"xml",success:e,error:function(){alert("Error: Something went wrong")}})})